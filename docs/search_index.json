[["how-to-build-a-sensor.html", "Chapter 3 How to build a sensor 3.1 Getting started with Pi 3.2 Setting up the Pi to a sensor", " Chapter 3 How to build a sensor 3.1 Getting started with Pi Step 1: Install the OS of Pi on your SD card Plug in your SD card on your laptop and open the Raspberry OS imager and format your SD card. Write the Raspberry Pi OS on your SD card. Please enable ssh and set username (pi) and password (raspberry) in the setting before the writing. Step 2: Connect the Pi on your laptop This enables your laptop to access and control your Pi via a network cable. We dont need to buy and use a screen, keyboard and mouse that can be attached to the Pi. &lt;&lt;&lt;&lt;&lt;&lt;&lt; HEAD Plug in your SD card on the Pi and connect the Pi on your laptop via a Ethernet cable. Enable internet connection sharing option on your WiFI adapter. Find and remember the IP address of your Pi. 1) Press the window key button; 2) type in cmd, 3) type in arp -a, 4) search the IP address of Raspberry Pi by looking the first 6 characters of physical address MAC Address Lookup: MAC addresses of the all devices of Raspberry Pi Foundation start with B8:27:EB:xx:xx:xx or DC:A6:32:xx:xx:xx. Access your Pi by Putty by typing the IP address in the host name. Log in your Pi with the default setting (ID: pi, password: raspberry). Type ping 8.8.8.8 to see if your Pi can use the Internet. Step 3: Set up your Pi Update your Pi and packages: sudo apt-get update -y &amp;&amp; sudo apt-get upgrade -y Install packages we use: sudo apt-get install git python3-pip python3-dpkt python3-pcapy python3-schedule python3-picamera python3-dropbox libbluetooth-dev -y Set up the wireless setting on your phone hot spot sudo nano /etc/wpa_supplicant/wpa_supplicant.conf Put your mobile hot spot information (to me, juhyeon9087 for both SSID and password) country=GB network={ ssid=&quot;juhyeon9087&quot; psk=&quot;juhyeon9087&quot; key_mgmt=WPA-PSK } Set up camera by turning on interface Options - Legacy Camera sudo raspi-config Set up Dropbox on your Pi. Get your Dropbox access key first Create a app in the developer site of Dropbox here Select access more scopes: Move into Permissions and check more access Clone this script to the Raspberry Pi git clone https://github.com/andreafabrizi/Dropbox-Uploader.git Move into the cloned folder: cd Dropbox-Uploader Give the dropbox_uploader.sh script: sudo chmod +x dropbox_uploader.sh Run the dropbox_uploader.sh script: ./dropbox_uploader.sh Copy and paste your app key and app secret Cope and paste of the terminal URL to your search engine and put your access code 3.2 Setting up the Pi to a sensor Step 1: Test and play your your Pi Detecting WiFi packets Plug in a WiFi adapter on your Pi and type this: pi@raspberrypi:~ $ iwconfig lo no wireless extensions. eth0 no wireless extensions. wlan0 IEEE 802.11 ESSID:off/any Mode:Managed Access Point: Not-Associated Retry short limit:7 RTS thr:off Fragment thr:off Power Management:on wlan1 IEEE 802.11 ESSID:off/any Mode:Managed Access Point: Not-Associated Tx-Power=20 dBm Retry short long limit:2 RTS thr:off Fragment thr:off Power Management:off You will see wlan1, which you couldnt see before plugging in. wlan0 is the onboard WiFi. Install the aircrack-ng tool sudo apt-get install -y aircrack-ng Put the wlan1 in monitoring mode sudo airmon-ng start wlan1 With the monitoring mode adapter, execute this to scan for nearby WiFi devices sudo airodump-ng wlan1mon Sensor component Sending a file on your dropbox Move on the Dropbox-Uploader folder (cd .. is going back to home folder) cd Dropbox-Uploader Get the list of Dropbox file list root@raspberrypi:/home/pi/Dropbox-Uploader# ./dropbox_uploader.sh list &gt; Listing &quot;/&quot;... DONE [D] External Drive.dbx-external-drive Upload one file on your Dropbox root@raspberrypi:/home/pi/Dropbox-Uploader# ./dropbox_uploader.sh upload README.md / &gt; Uploading &quot;/home/pi/Dropbox-Uploader/README.md&quot; to &quot;/README.md&quot;... DONE Recheck the uploaded file on your Dropbox root@raspberrypi:/home/pi/Dropbox-Uploader# ./dropbox_uploader.sh list &gt; Listing &quot;/&quot;... DONE [D] External Drive.dbx-external-drive [F] 9373 README.md Detecting Bluetooth packets Clone a simple Bluetooth packet collector git clone https://github.com/MS3FGX/Bluelog.git Move on the folder cd Bluelog make and run the code by typing ./bluelog -vmfn Take a shot by Pi camera Check the attached camera vcgencmd get_camera supported=1 detected=1 Enter the command: raspistill -o test.jpg Step 2: Make our Pi as a sensor Download Filezlia and the code here Access your Pi by the Filezlia; 1) file - Site Manager, 2) New site, 3) Protoal as SSH transfer, 4) Host as your Pi IP, 5) User and Password (pi and raspberry as a default) Copy and paste the Python file start.py on the Pi. Test the python file python start.py Make the setting to execute the file after booting autumatically. In root setting (sudo su), copy and paste this: echo &quot;[Unit] Description=Wifi monitoring service After=network.target [Service] WorkingDirectory=/home/pi/ ExecStart=/usr/bin/python /home/pi/start.py User=root Group=root [Install] WantedBy=multi-user.target&quot; &gt; /lib/systemd/system/wifi_monitor.service cc chmod 644 /lib/systemd/system/wifi_monitor.service systemctl daemon-reload systemctl enable wifi_monitor.service Type this if you want to start the setting: systemctl start wifi_monitor Type this if you want to stop the setting: systemctl stop wifi_monitor Type this if you want to restart the setting: systemctl restart wifi_monitor Step 3: Understand our sensor procedure Time (seconds) Function What should you do 0 Before booting Unplug all Turn on your hot spot 0 ~ 2 Boot After 2~3 seconds plug your WiFi adapter 2 ~ 5 Syncronize the time with network time You can see Blue light of the adapter You can see RaspberryPi in the hotspot 5 ~ 20 Camera shot See Dropbox 20 ~ 30 monitoring mode Blue light off 30 ~ Start ======= Plug in your SD card on the Pi and connect the Pi on your laptop via a Ethernet cable. Enable internet connection sharing option on your WiFI adapter. Find and remember the IP address of your Pi. 1) Press the window key button; 2) type in cmd, 3) type in arp -a, 4) search the IP address of Raspberry Pi by looking the first 6 characters of physical address MAC Address Lookup: MAC addresses of the all devices of Raspberry Pi Foundation start with B8:27:EB:xx:xx:xx or DC:A6:32:xx:xx:xx. Access your Pi by Putty by typing the IP address in the host name. Log in your Pi with the default setting (ID: pi, password: raspberry). Type ping 8.8.8.8 to see if your Pi can use the Internet. Step 3: Set up your Pi Update your Pi and packages: sudo apt-get update -y &amp;&amp; sudo apt-get upgrade -y Install packages we use: sudo apt-get install git python3-pip python3-dpkt python3-pcapy python3-schedule python3-picamera python3-dropbox libbluetooth-dev -y Set up the wireless setting on your phone hot spot sudo nano /etc/wpa_supplicant/wpa_supplicant.conf Put your mobile hot spot information (to me, juhyeon9087 for both SSID and password) country=GB network={ ssid=&quot;juhyeon9087&quot; psk=&quot;juhyeon9087&quot; key_mgmt=WPA-PSK } Set up camera by turning on interface Options - Legacy Camera sudo raspi-config Set up Dropbox on your Pi. Get your Dropbox access key first Create a app in the developer site of Dropbox here Select access more scopes: Move into Permissions and check more access Clone this script to the Raspberry Pi git clone https://github.com/andreafabrizi/Dropbox-Uploader.git Move into the cloned folder: cd Dropbox-Uploader Give the dropbox_uploader.sh script: sudo chmod +x dropbox_uploader.sh Run the dropbox_uploader.sh script: ./dropbox_uploader.sh Copy and paste your app key and app secret Cope and paste of the terminal URL to your search engine and put your access code Step 4: Test and play your your Pi Detecting WiFi packets Plug in a WiFi adapter on your Pi and type this: pi@raspberrypi:~ $ iwconfig lo no wireless extensions. eth0 no wireless extensions. wlan0 IEEE 802.11 ESSID:off/any Mode:Managed Access Point: Not-Associated Retry short limit:7 RTS thr:off Fragment thr:off Power Management:on wlan1 IEEE 802.11 ESSID:off/any Mode:Managed Access Point: Not-Associated Tx-Power=20 dBm Retry short long limit:2 RTS thr:off Fragment thr:off Power Management:off You will see wlan1, which you couldnt see before plugging in. wlan0 is the onboard WiFi. Install the aircrack-ng tool sudo apt-get install -y aircrack-ng Put the wlan1 in monitoring mode sudo airmon-ng start wlan1 With the monitoring mode adapter, execute this to scan for nearby WiFi devices sudo airodump-ng wlan1mon Sensor component Sending a file on your dropbox Move on the Dropbox-Uploader folder (cd .. is going back to home folder) cd Dropbox-Uploader Get the list of Dropbox file list root@raspberrypi:/home/pi/Dropbox-Uploader# ./dropbox_uploader.sh list &gt; Listing &quot;/&quot;... DONE [D] External Drive.dbx-external-drive Upload one file on your Dropbox root@raspberrypi:/home/pi/Dropbox-Uploader# ./dropbox_uploader.sh upload README.md / &gt; Uploading &quot;/home/pi/Dropbox-Uploader/README.md&quot; to &quot;/README.md&quot;... DONE Recheck the uploaded file on your Dropbox root@raspberrypi:/home/pi/Dropbox-Uploader# ./dropbox_uploader.sh list &gt; Listing &quot;/&quot;... DONE [D] External Drive.dbx-external-drive [F] 9373 README.md Detecting Bluetooth packets Clone a simple Bluetooth packet collector git clone https://github.com/MS3FGX/Bluelog.git Move on the folder cd Bluelog make and run the code by typing ./bluelog -vmfn Take a shot by Pi camera Check the attached camera vcgencmd get_camera supported=1 detected=1 Enter the command: raspistill -o test.jpg Step 5: Make our Pi as a sensor Download Filezlia and the code here Download FILE File Name. - Move the 4dc7e96cc21d635ad80bb0928549168917d807a5 "],["wifi-data-analysis.html", "Chapter 4 WiFi Data Analysis 4.1 Preprocessing 4.2 Count 4.3 Location 4.4 Track 4.5 Identify 4.6 Activities", " Chapter 4 WiFi Data Analysis Using WiFi sensing technologies we identify five main metrics on pedestrian behaviors. Here is the figure illustrating the metrics. Count: How many people are present? Location  Where is that person? Track  Where was the person before? Identity  Who is the person? Activities  What is the person doing? The following sections cover how to generate the metrics. 4.1 Preprocessing Filter 1: Removal of random MAC addresses Filter 2: Removal of non-mobile devices Filter 3: Removal of rarely detected devices 4.2 Count 4.3 Location 4.4 Track 4.5 Identify 4.6 Activities You can add parts to organize one or more book chapters together. Parts can be inserted at the top of an .Rmd file, before the first-level chapter heading in that same file. Add a numbered part: # (PART) Act one {-} (followed by # A chapter) Add an unnumbered part: # (PART\\*) Act one {-} (followed by # A chapter) Add an appendix as a special kind of un-numbered part: # (APPENDIX) Other stuff {-} (followed by # A chapter). Chapters in an appendix are prepended with letters instead of numbers. "]]
